==================================================================
  Benchmark: scaling
  Date: 2026-02-21 09:14:54
  GPU: NVIDIA GeForce RTX 4090
==================================================================


==================================================================
 TRACK 3: O(log N) Mathematical Bound Proof
==================================================================

 Loading books positions... 27,973,081 × 3D
 Loading wiki positions... 11,246,333 × 3D
 Combined base: 39,219,414 positions
 Base corpus: 39,219,414 positions
 Generated 50 fixed queries (from first 100K)

 Testing 1K (1,000 positions)...
 BVH: 0.6ms Query: 209.9us avg p50=209.9us p99=209.9us [209.9-209.9us]

 Testing 10K (10,000 positions)...
 BVH: 0.7ms Query: 240.2us avg p50=240.2us p99=240.2us [240.2-240.2us]

 Testing 50K (50,000 positions)...
 BVH: 2.6ms Query: 270.0us avg p50=270.0us p99=270.0us [270.0-270.0us]

 Testing 100K (100,000 positions)...
 BVH: 3.8ms Query: 312.8us avg p50=312.8us p99=312.8us [312.8-312.8us]

 Testing 500K (500,000 positions)...
 BVH: 10.9ms Query: 542.0us avg p50=542.0us p99=542.0us [542.0-542.0us]

 Testing 1.0M (1,000,000 positions)...
 BVH: 18.3ms Query: 760.6us avg p50=760.6us p99=760.6us [760.6-760.6us]

 Testing 2.0M (2,000,000 positions)...
 BVH: 33.3ms Query: 1201.0us avg p50=1201.0us p99=1201.0us [1201.0-1201.0us]

 Testing 5.0M (5,000,000 positions)...
 BVH: 79.8ms Query: 3517.5us avg p50=3517.5us p99=3517.5us [3517.5-3517.5us]

 Testing 10.0M (10,000,000 positions)...
 BVH: 158.3ms Query: 8255.2us avg p50=8255.2us p99=8255.2us [8255.2-8255.2us]

 Testing 20.0M (20,000,000 positions)...
 BVH: 306.4ms Query: 15914.0us avg p50=15914.0us p99=15914.0us [15914.0-15914.0us]

 Testing 28.0M (28,000,000 positions)...
 BVH: 424.5ms Query: 21747.2us avg p50=21747.2us p99=21747.2us [21747.2-21747.2us]

 Testing 39.2M (39,219,414 positions)...
 BVH: 582.3ms Query: 29473.4us avg p50=29473.4us p99=29473.4us [29473.4-29473.4us]

======================================================================
 MODEL 1: O(log N) latency = C * log2(N) + D
======================================================================

 Fitted: latency = 1494.388 x log2(N) + -22393.780
 R^2 = 0.5222 
 95% CI on slope: [590.414, 2398.362]

 Scale log2(N) Measured p50 p99 Predicted Residual
 --------- --------- ------------ --------- --------- ------------ ------------
 1K 10.0 209.9us 209.9us 209.9us -7501.0us +7710.9us
 10K 13.3 240.2us 240.2us 240.2us -2536.8us +2777.0us
 50K 15.6 270.0us 270.0us 270.0us 933.1us -663.1us
 100K 16.6 312.8us 312.8us 312.8us 2427.5us -2114.7us
 500K 18.9 542.0us 542.0us 542.0us 5897.3us -5355.3us
 1.0M 19.9 760.6us 760.6us 760.6us 7391.7us -6631.1us
 2.0M 20.9 1201.0us 1201.0us 1201.0us 8886.1us -7685.1us
 5.0M 22.3 3517.5us 3517.5us 3517.5us 10861.6us -7344.1us
 10.0M 23.3 8255.2us 8255.2us 8255.2us 12356.0us -4100.8us
 20.0M 24.3 15914.0us 15914.0us 15914.0us 13850.4us +2063.6us
 28.0M 24.7 21747.2us 21747.2us 21747.2us 14575.8us +7171.4us
 39.2M 25.2 29473.4us 29473.4us 29473.4us 15302.3us +14171.1us

======================================================================
 MODEL 2: O(N^alpha) latency = A * N^alpha
======================================================================

 Fitted: latency = 1.645994 x N^0.5117
 Scaling class: ~O(sqrt(N))
 R^2 (raw) = 0.5827 <-- best
 R^2 (log-log) = 0.8344
 95% CI on alpha: [0.3675, 0.6559]

 Scale N Measured Predicted Residual
 --------- --------------- ------------ ------------ ------------
 1K 1,000 209.9us 56.4us +153.5us
 10K 10,000 240.2us 183.3us +56.9us
 50K 50,000 270.0us 417.7us -147.7us
 100K 100,000 312.8us 595.6us -282.8us
 500K 500,000 542.0us 1357.0us -815.0us
 1.0M 1,000,000 760.6us 1934.8us -1174.2us
 2.0M 2,000,000 1201.0us 2758.5us -1557.5us
 5.0M 5,000,000 3517.5us 4408.5us -891.0us
 10.0M 10,000,000 8255.2us 6285.3us +1969.9us
 20.0M 20,000,000 15914.0us 8961.2us +6952.8us
 28.0M 28,000,000 21747.2us 10644.8us +11102.4us
 39.2M 39,219,414 29473.4us 12648.0us +16825.4us

======================================================================
 MODEL 3: System Streaming total = ceil(N/S) x T_shard
======================================================================

 Shard size S = 20,000,000 (20M)
 T_shard = 15914.0us (15.914ms) [measured at 20.0M]
 Data linearity R^2 = 0.9988

 Scale N Shards Per-Shard Streaming Monolithic
 --------- --------------- ------ --------- ------------ ------------
 1K 1,000 1 15.914ms 15.914ms 0.210ms
 10K 10,000 1 15.914ms 15.914ms 0.240ms
 50K 50,000 1 15.914ms 15.914ms 0.270ms
 100K 100,000 1 15.914ms 15.914ms 0.313ms
 500K 500,000 1 15.914ms 15.914ms 0.542ms
 1.0M 1,000,000 1 15.914ms 15.914ms 0.761ms
 2.0M 2,000,000 1 15.914ms 15.914ms 1.201ms
 5.0M 5,000,000 1 15.914ms 15.914ms 3.518ms
 10.0M 10,000,000 1 15.914ms 15.914ms 8.255ms
 20.0M 20,000,000 1 15.914ms 15.914ms 15.914ms
 28.0M 28,000,000 2 15.914ms 31.828ms 21.747ms
 39.2M 39,219,414 2 15.914ms 31.828ms 29.473ms

 Scaling Predictions (serial, one GPU):
 Scale Shards Total Per-Shard Peak Mem
 --------- ------ ------------ ------------ ---------
 100M 5 0.08s 15.914ms 0.24GB
 1B 50 0.80s 15.914ms 0.24GB
 10B 500 7.96s 15.914ms 0.24GB

 Key insight: Per-shard time is CONSTANT regardless of total N.
 The BVH only sees 20M items per shard — always.

======================================================================
 THREE-WAY COMPARISON
======================================================================

 O(log N) O(N^alpha) Streaming
 ------------ ------------ ------------
 R^2 0.5222 0.5827 0.9988
 Per-query scaling O(log N) ~O(sqrt(N)) O(1)/shard
 System scaling O(log N) ~O(sqrt(N)) O(N)

 Prediction O(log N) O(N^alpha) Streaming
 --------- ------------ ------------ ------------
 100M 17.3ms 20.4ms 79.6ms
 1B 22.3ms 66.3ms 795.7ms
 10B 27.2ms 215.6ms 7957.0ms

 Per-query BVH: O(N^alpha) (R^2 = 0.5827)
 System-level: Streaming O(N) with O(1) per shard
 Overall verdict: PASS

 Raw BVH: O(N^0.51) = ~O(sqrt(N))
 Sublinear: 39219x data -> 140.4x latency (linear = 39219x)

 Streaming resolves the gap: shard size is fixed, so per-query
 BVH scaling (~O(sqrt(N))) never applies beyond 20M.

 BVH build: 14.9ms per 1M items (R^2=1.000)

 Saved: results_logn_proof.json


==================================================================
  Elapsed: 45.1s (0.8m)
  Exit code: 0
==================================================================